<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Blessing For Your Birthday</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=UoqMunThenKhung&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

  <!-- Invitation Gate -->
  <div class="inviteGate" id="inviteGate" aria-label="Invitation gate">
    <div class="doors" aria-hidden="true">
      <div class="door left"></div>
      <div class="door right"></div>
    </div>

    <div class="envelope" aria-hidden="true">
      <div class="env-back"></div>
      <div class="env-front"></div>
      <div class="env-flap"></div>
      <div class="env-shadow"></div>
    </div>

    <div class="card" role="dialog" aria-modal="true" aria-label="Invitation">
      <div class="kicker">MY DEAR KITTEN ,YOU ARE INVITED</div>
      <h1>æµ®ç”Ÿå¾¹èª.éˆé­‚ç›¸å¥‘<br><small>ç§¦å¾¹ç”Ÿæ—¥æ‡‰æ´èŒ¶æœƒ</small></h1>

      <div class="meta" aria-label="Event meta">
        <div><b>DATE</b><span>04 / 18</span></div><p>
        <div><b>LOCATION</b><span>é«˜é›„å¸‚è‹“é›…å€é’å¹´äºŒè·¯238è™Ÿ</span></div>
      </div>
      <p><b class="sub">é»æ“Šå°è Ÿï¼Œæ‰“é–‹é‚€è«‹å‡½</b></p>
      <!-- Seal (image/invite.png) -->
      <button class="seal" id="openInvite" type="button" aria-label="Open invitation">
        <img class="seal-img" src="image/invite.png" alt="å°è Ÿ" decoding="async" />
      </button>
    </div>
  </div>

  <!-- Header / Navigation (fixed) -->
  <header class="site-header" id="top" >
    <div class="nav-wrap">
      <a class="brand" href="#top" aria-label="Home">
        <span class="brand-mark" aria-hidden="true">
          <img src="image/brand-icon.png" alt="" />
        </span>

        <span class="brand-text">
          <b>æµ®ç”Ÿå¾¹èª</b>
          <small>éˆé­‚ç›¸å¥‘</small>
        </span>
      </a>

      <button class="nav-toggle" id="navToggle" aria-label="Open menu" aria-expanded="false">â˜°</button>

      <nav class="nav" id="nav" aria-label="Primary">
        <!--<a href="#about">é—œæ–¼</a>-->
        <a href="#type">æ–¹æ¡ˆèªªæ˜</a>
        <a href="#portfolio">ç‹¸ä¾†æ‰­é´‰</a>
        <a href="#lightbox" >ç‡ˆç®±è³‡è¨Š</a>
         <a href="#ext" >æ•¬è«‹æœŸå¾…</a>
      </nav>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-bg" aria-hidden="true"></div>
    <div class="hero-inner">
      <p class="hero-kicker">YOU ARE INVITED</p>
      <h1 class="hero-title">æµ®ç”Ÿå¾¹èª<br><span>éˆé­‚ç›¸å¥‘</span></h1>
      <p class="hero-sub">æˆ‘ç‚ºä½ çš„èª•ç”Ÿï¼Œè³œèˆ‡ç¥ç¦ã€‚</p>
      <div class="hero-actions">
        <a class="btn" href="#instructions">å…¥å ´é ˆçŸ¥</a>
        <a class="btn" href="#map">æ´»å‹•åœ°é»</a>
        <a class="btn btn-ghost" href="#contact">è¯çµ¡æˆ‘å€‘</a>
      </div>
      <!--
      <div class="hero-meta">
        <div class="metaBox"><b>DATE</b><span>04/18</span></div>
        <div class="metaBox"><b>LOCATION</b><span>é«˜é›„å¸‚è‹“é›…å€é’å¹´äºŒè·¯238è™Ÿ</span></div>
        <div class="metaBox"><b>DRESS CODE</b><span>ğŸš«ç¦æ­¢COSç”·ä¸»</span></div>
      </div>-->
    </div>
  </section>

  <main>
    
    <!-- About -->
    <section class="section" id="about">
      <div class="section-head">
        <h3 class="section-kicker">é—œæ–¼</h3>
        <p class="section-sub">About us.</p>
      </div>

      <div class="about-grid">
        <div class="panel">
          <h3>çµ¦è¦ªæ„›çš„å°ç‹¸èŠ±å€‘</h3>
          <p class="muted">é€™ä¸€ä»½å°ˆå±¬æ–¼å¦³èˆ‡ä»–çš„ç”Ÿæ—¥ç´„æœƒã€‚æˆ‘å€‘å…±åŒæœŸå¾…å°ç‹¸èŠ±å€‘çš„è’è‡¨ï¼Œç‚ºé€™å€‹ç‰¹åˆ¥çš„æ—¥å­ç•™ä¸‹ç´€å¿µã€‚
          â€‹</p>
        </div>
        <div class="panel">
          <h3>é‡é»è³‡è¨Š</h3>
          <ul>
            <li><b>æ—¥æœŸ</b>ï¼š04/18</li>
            <li><b>åœ°é»</b>ï¼šé«˜é›„å¸‚è‹“é›…å€é’å¹´äºŒè·¯238è™Ÿ</li>
            <li><b>æ³¨æ„äº‹é …</b>ï¼šğŸš«ç¦æ­¢COSä»»ä½•ä¸€ä½ç”·ä¸»</li>
          </ul>
        </div>
        <!--
        <div class="panel">
          <h3>æ–¹æ¡ˆä¸€è¦½</h3>
            <ul>
              <li><b>é­‚éˆç‰½ç¹« </b>$1,800 ğŸ‘‘</li>
              <li><b>æ·±æ·µè£æ±ºè€… </b>$1,600</li>
              <li><b>æš—é»æ”¯é…è€… </b>$1,100</li> 
            </ul>        
        </div>
        -->
      </div>
    </section>

    <section class="section" id="type">
      <div class="section-head">
        <h3 class="section-kicker">æ–¹æ¡ˆèªªæ˜</h3>
        <p class="section-sub">å“é …åƒ…ä¾›åƒè€ƒï¼Œä¸»è¾¦æ–¹ä¿æœ‰æœ€çµ‚è§£é‡‹æ¬Šã€‚</p>
      </div>

      <div class="about-grid">
        <div class="panel">
          <h3>ğ“Šˆé­‚éˆç‰½ç¹« $1,800ğ“Š‰</h3>
          <p class="muted"><b><ins>é›™coser 1å°1å°ˆå±¬äº’å‹•æ™‚æ®µ:</ins></b></p>
            <div class="gift-picks" aria-label="åƒåŠ ç¦®å“é …">
              <button class="gift-pill" type="button" data-img="image/coser.jpg">Coser é è¦½ ğŸ‘‘</button>
            </div>
          <p class="muted"><b>è±ªè¯è±å¯ŒåƒåŠ ç¦®ï¼š</b></p>

          <div class="gift-picks" aria-label="åƒåŠ ç¦®å“é …">
            <button class="gift-pill" type="button" data-img="image/gift/g05.jpg">å››å­£ç¥¨æ ¹ ğŸ‘‘</button>
            <button class="gift-pill" type="button" data-img="image/gift/g04.jpg">å¡å†Š ğŸ‘‘</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">å°é›¶éŒ¢åŒ… ğŸ‘‘</button>
            <button class="gift-pill" type="button" data-img="image/gift//soon.jpg">æ¡Œæ›† ğŸ‘‘</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">åŒäººæ–‡ ğŸ‘‘</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">è‰²è‰²æ˜ä¿¡ç‰‡ ğŸ‘‘</button>

            <button class="gift-pill" type="button" data-img="image/gift/g02.jpg">ç¥¨å¤¾</button>
            <button class="gift-pill" type="button" data-img="image/gift/g01.jpg">ç­†è¨˜æœ¬</button>
            <button class="gift-pill" type="button" data-img="image/gift/g07.jpg">è½‰å°è²¼</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">åœå…œå…œ</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">è³¼ç‰©è¢‹</button>
            <button class="gift-pill" type="button" data-img="image/gift/g03.jpg">é³å°„ç¥¨</button>
          </div>
        </div>
        <div class="panel">
          <h3>ğ“Šˆæ·±æ·µè£æ±ºè€… $1,600ğ“Š‰</h3>
          <p class="muted"><b>è±ªè¯è±å¯ŒåƒåŠ ç¦®ï¼š</b></p>
          <div class="gift-picks" aria-label="åƒåŠ ç¦®å“é …">
            <button class="gift-pill" type="button" data-img="image/gift/g06.jpg">æ˜¥å¤ç¥¨æ ¹</button>
            <button class="gift-pill" type="button" data-img="image/gift/g04.jpg">å¡å†Š ğŸ‘‘</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">å°é›¶éŒ¢åŒ… ğŸ‘‘</button>
            <button class="gift-pill" type="button" data-img="image/gift//soon.jpg">æ¡Œæ›† ğŸ‘‘</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">åŒäººæ–‡ ğŸ‘‘</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">è‰²è‰²æ˜ä¿¡ç‰‡ ğŸ‘‘</button>

            <button class="gift-pill" type="button" data-img="image/gift/g02.jpg">ç¥¨å¤¾</button>
            <button class="gift-pill" type="button" data-img="image/gift/g01.jpg">ç­†è¨˜æœ¬</button>
            <button class="gift-pill" type="button" data-img="image/gift/g07.jpg">è½‰å°è²¼</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">åœå…œå…œ</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">è³¼ç‰©è¢‹</button>
            <button class="gift-pill" type="button" data-img="image/gift/g03.jpg">é³å°„ç¥¨</button>
        </div>
      </div>
      <div class="panel">
          <h3>ğ“Šˆæš—é»æ”¯é…è€… $1,100ğ“Š‰</h3>
          <p class="muted">ç²¾ç·»åƒåŠ ç¦®ï¼š</p>
          <div class="gift-picks" aria-label="åƒåŠ ç¦®å“é …">
            <button class="gift-pill" type="button" data-img="image/gift/g06.jpg">æ˜¥å¤ç¥¨æ ¹</button>
            <button class="gift-pill" type="button" data-img="image/gift/g02.jpg">ç¥¨å¤¾</button>
            <button class="gift-pill" type="button" data-img="image/gift/g01.jpg">ç­†è¨˜æœ¬</button>
            <button class="gift-pill" type="button" data-img="image/gift/g07.jpg">è½‰å°è²¼</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">åœå…œå…œ</button>
            <button class="gift-pill" type="button" data-img="image/gift/soon.jpg">è³¼ç‰©è¢‹</button>
            <button class="gift-pill" type="button" data-img="image/gift/g03.jpg">é³å°„ç¥¨</button>
          </div>  
        </div>
      </div>
      <!-- âœ… ç¨ç«‹å½ˆçª—ï¼ˆè²¼åœ¨ </body> å‰ï¼‰ -->
      <div class="itembox" id="giftItemBox" aria-hidden="true">
        <div class="itembox-card" role="dialog" aria-modal="true" aria-label="å“é …åœ–ç‰‡">
          <button class="itembox-close" type="button" aria-label="Close">Ã—</button>
          <img class="itembox-img" id="giftItemImg" src="" alt="">
          <p class="itembox-title" id="giftItemTitle"></p>
        </div>
      </div>
    </section>
    <section class="section section-dark" id="join-gifts" aria-label="åƒåŠ ç¦®">
      <div class="section-head">
        <h3 class="section-kicker">åƒåŠ ç¦®é è¦½</h3>
        <p class="section-sub">é»æ“Šåœ–ç‰‡å¯æ”¾å¤§æª¢è¦–ã€‚</p>
      </div>
      <div class="gift-collage" id="joinGiftsCollage" aria-label="åƒåŠ ç¦®æ‹¼è²¼">
        <figure class="gift g1"><button class="giftBtn" type="button" data-slot="0"><img alt="" loading="lazy"></button></figure>
        <figure class="gift g2"><button class="giftBtn" type="button" data-slot="1"><img alt="" loading="lazy"></button></figure>
        <figure class="gift g3"><button class="giftBtn" type="button" data-slot="2"><img alt="" loading="lazy"></button></figure>
        <figure class="gift g4"><button class="giftBtn" type="button" data-slot="3"><img alt="" loading="lazy"></button></figure>
        <figure class="gift g5"><button class="giftBtn" type="button" data-slot="4"><img alt="" loading="lazy"></button></figure>
        <figure class="gift g6"><button class="giftBtn" type="button" data-slot="5"><img alt="" loading="lazy"></button></figure>
        <figure class="gift g7"><button class="giftBtn" type="button" data-slot="6"><img alt="" loading="lazy"></button></figure>
      </div>
      
    </section>  

    <!-- âœ… åƒåŠ ç¦®å°ˆç”¨ Lightboxï¼ˆè²¼åœ¨ </body> å‰ï¼‰ -->
    <div class="gbox" id="joinGiftBox" aria-hidden="true">
      <button class="gbox-btn prev" type="button" aria-label="Previous">â€¹</button>

      <figure class="gbox-card">
        <img id="gboxImg" alt="">
        <figcaption id="gboxNote"></figcaption>
      </figure>

      <button class="gbox-btn next" type="button" aria-label="Next">â€º</button>
    </div>


    <!-- Portfolio (click to enlarge + one-line note) -->
    <section class="section" id="portfolio">
      <div class="section-head">
        <h3 class="section-kicker">ç‹¸ä¾†æ‰­é´‰-ç¦®å“ä¸€è¦½</h3>
        <p class="section-sub">A gift specially prepared for you.</p>
      </div>
      <div class="album" id="album" aria-label="æ‰­è›‹ç¦®ç›¸ç°¿">
      <div class="album-viewport">
        <div class="album-track">
          <!-- Slide 1 -->
          <figure class="album-slide">
            <button class="shotBtn" type="button" data-group="gacha"
              data-full="image/p01.jpg"
              data-note="é€™æ¬¾ç´”æ‰‹å·¥è£½ä½œçš„æ“´é¦™çŸ³ï¼Œæ˜¯å¦èƒ½ç”¨é¦™æ°£å¸¶é ˜å¦³ï¼Œæƒ³èµ·èˆ‡ä»–çš„æŸæ™‚æŸåˆ»ï¼Ÿ">
              <img src="image/p01.jpg" alt="æ‰­è›‹ç¦®01" loading="lazy" />
            </button>
            <figcaption class="cap"><span class="note">æ‰­è›‹ç¦®01</span></figcaption>
          </figure>

          <!-- Slide 2 -->
          <figure class="album-slide">
            <button class="shotBtn" type="button" data-group="gacha"
              data-full="image/p02.jpg"
              data-note="ç´”æ‰‹å·¥è£½ä½œçš„å¥½æ°£é´‰ç½®ç‰©ç›¤ï¼Œé´‰ä¾†æ”¶ä½ä½ æ—¥å¸¸çš„å°ç‰©!">
              <img src="image/p02.jpg" alt="æ‰­è›‹ç¦®02" loading="lazy" />
            </button>
            <figcaption class="cap"><span class="note">æ‰­è›‹ç¦®02</span></figcaption>
          </figure>

          <!-- Slide 3 -->
          <figure class="album-slide">
            <button class="shotBtn" type="button" data-group="gacha"
              data-full="image/p03.jpg"
              data-note="ç”±Vanessç¹ªå¸«æ‰€ç¹ªè£½ï¼Œç‚ºç§¦å¾¹ç”Ÿè³€ç‰¹åˆ¥åšæˆç¾éº—çš„å‘¨é‚Šã€‚">
              <img src="image/p03.jpg" alt="æ‰­è›‹ç¦®03" loading="lazy" />
            </button>
            <figcaption class="cap"><span class="note">æ‰­è›‹ç¦®03</span></figcaption>
          </figure>

          <!-- Slide 4 -->
          <figure class="album-slide">
            <button class="shotBtn" type="button" data-group="gacha"
              data-full="image/p04.jpg"
              data-note="ä¸­åœ‹ ç§¦å¾¹Sylus_0418ç”Ÿè³€çµ„å‘¨é‚Šæ›ç•«">
              <img src="image/p04.jpg" alt="æ‰­è›‹ç¦®04" loading="lazy" />
            </button>
            <figcaption class="cap"><span class="note">æ‰­è›‹ç¦®04</span></figcaption>
          </figure>
          <!-- Slide 5 -->
          <figure class="album-slide">
            <button class="shotBtn" type="button" data-group="gacha"
              data-full="image/p05.jpg"
              data-note="ã€ä¸­åœ‹ç§¦å¾¹ç”Ÿè³€çµ„ é€šå‹¤æ¬¾ç—›åŒ…ã€‘ å…±å…©æš">
              <img src="image/p05.jpg" alt="æ‰­è›‹ç¦®05" loading="lazy" />
            </button>
            <figcaption class="cap"><span class="note">æ‰­è›‹ç¦®05</span></figcaption>
          </figure>
          <!-- Coming soon -->
          <figure class="album-slide is-empty" aria-hidden="false">
            <div class="shot-placeholder">æ•¬è«‹æœŸå¾…</div>
            <figcaption class="cap"><span class="note">Coming soon</span></figcaption>
          </figure>
        </div>
      </div>

      <button class="album-nav next" type="button" aria-label="ä¸‹ä¸€å¼µ">â€º</button>
      <div class="album-dots" aria-label="ç›¸ç°¿é ç¢¼"></div>
    </div>

    </section>
    <!-- Portfolio Lightbox (for æ‰­è›‹ç¦®/ä½œå“é›†) -->
    <div class="pbox" id="portfolioBox" aria-hidden="true">
      <button class="pbox-btn prev" type="button" aria-label="Previous">â€¹</button>

      <figure class="pbox-card">
        <img id="pboxImg" alt="">
        <figcaption id="pboxNote"></figcaption>
      </figure>

      <button class="pbox-btn next" type="button" aria-label="Next">â€º</button>
    </div>

    <!-- instructions -->
    <section class="section section-dark" id="instructions" aria-label="å…¥å ´é ˆçŸ¥">
      <div class="section-head">
        <h3 class="section-kicker">å…¥å ´é ˆçŸ¥</h3>
        <p class="section-sub">Please comply with.</p>
      </div>
      <div class="instructions-image">
        <img src="image/instructions.jpg" alt="å…¥å ´é ˆçŸ¥" />
      </div>
    </section>

    <!-- lightbox -->
    <section class="section section-dark" id="lightbox">

      <div class="section-head">
        <h3 class="section-kicker">ç‡ˆç®±è³‡è¨Š</h3>
        <p class="section-sub">Looking forward to your arrival.</p>
      </div>

      <div class="lightbox-row">
        <img src="image/lightbox1.jpg" alt="" data-index="0">
        <img src="image/lightbox2.jpg" alt="" data-index="1">
      </div>

    </section>

    <!-- Lightbox Overlay -->
    <div class="lightbox-view" id="lightboxView">
      <button class="lb-btn prev">â€¹</button>
      <img class="lb-img" src="" alt="">
      <button class="lb-btn next">â€º</button>
    </div>



    <!-- Map / Location (keep space for Google Map embed + IG link) -->
    <section class="section section-dark" id="map">
      <div class="section-head">
        <h3 class="section-kicker">åœ°åœ– / äº¤é€š</h3>
        <p class="section-sub">Event location.</p>
      </div>

      <div class="map-grid">
        <div class="panel">
          <h3>å ´åœ°è³‡è¨Š</h3>
          <ul>
            <li><b>æ—¥æœŸ</b>ï¼š2026/04/18</li>
            <li><b>åœ°é»</b>ï¼šé«˜é›„å¸‚è‹“é›…å€é’å¹´äºŒè·¯238è™Ÿ</li>
            <!--<li><b>åœè»Š</b>ï¼šï¼¿ï¼¿ï¼¿ï¼¿</li>-->
            <li><b>å¤§çœ¾é‹è¼¸</b>ï¼šè¼•è»Œæ­åˆ°å…‰æ¦®ç¢¼é ­ç«™æ­¥è¡Œç´„3åˆ†é˜</li>
          </ul>
        </div>

        <div class="map-embed" aria-label="Google Map Embed">
          <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3682.974050627544!2d120.29139641147495!3d22.617444179374143!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x346e038082853e35%3A0x1ba3a710a64ecbf2!2zODAy6auY6ZuE5biC6IuT6ZuF5Y2A6Z2S5bm05LqM6LevMjM46Jmf!5e0!3m2!1szh-CN!2stw!4v1768832896197!5m2!1szh-CN!2stw" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
      </div>
      </section>
  </main>
  <!--contact-->
  <section class="section section-dark" id="contact" aria-label="Instagram Contact">
    <div class="ig-contact">
      <a
        href="https://instagram.com/kittens_lovesylus"
        target="_blank"
        rel="noopener"
        class="ig-link"
        aria-label="Instagram"
      >
        <img src="image/instagram.png" alt="Instagram">
      </a>

      <!-- Threads -->
      <a
        href="https://www.threads.net/@kittens_lovesylus"
        target="_blank"
        rel="noopener"
        class="ig-link"
        aria-label="Threads"
      >
        <img src="image/threads.png" alt="Threads">
      </a>
      <!-- Line -->
      <a
        href="https://lin.ee/GhBVJyfn"
        target="_blank"
        rel="noopener"
        class="ig-link"
        aria-label="Line"
      >
        <img src="image/Line.png" alt="Line">
      </a>
    </div>
  </section>

  <!-- Side countdown badge -->
  <a class="countdown-badge" id="countdownBadge" href="#top" aria-label="Countdown to event">
    <span class="cd-num" id="cdNum">--</span>
    <span class="cd-label">DAYS</span>
    <span class="cd-date">04/18</span>
  </a>
<script>
(() => {
  // ä½ ã€Œæ‰­è›‹ç¦®ã€ç¸®åœ–çš„å…±åŒå®¹å™¨ï¼Œå»ºè­°ä½œå“é›†å¤–å±¤æœ‰ id="portfolio"
  const root = document.getElementById('portfolio') || document;
  const box = document.getElementById('portfolioBox');
  const imgEl = document.getElementById('pboxImg');
  const noteEl = document.getElementById('pboxNote');
  const prevBtn = box?.querySelector('.prev');
  const nextBtn = box?.querySelector('.next');

  if (!box || !imgEl || !noteEl) return;

  let items = [];
  let idx = 0;

  function collectItems() {
    // ä½ çš„ç¸®åœ–æŒ‰éˆ•/åœ–ç‰‡ä¸Šè¦æœ‰ data-full / data-note
    items = Array.from(root.querySelectorAll('.shotBtn[data-full]'))
      .map(el => ({
        full: el.dataset.full,
        note: el.dataset.note || '',
      }));
  }

  function openAt(i) {
    collectItems();
    if (!items.length) return;

    idx = Math.max(0, Math.min(i, items.length - 1));
    render();
    box.classList.add('show');
    box.setAttribute('aria-hidden', 'false');
  }

  function closeBox() {
    box.classList.remove('show');
    box.setAttribute('aria-hidden', 'true');
  }

  function render() {
    const it = items[idx];
    imgEl.src = it.full;
    noteEl.textContent = it.note;

    // åªæœ‰ 1 å¼µå°±æŠŠå·¦å³éµè—èµ·ä¾†ï¼ˆå¯é¸ï¼‰
    const multi = items.length > 1;
    prevBtn.style.display = multi ? '' : 'none';
    nextBtn.style.display = multi ? '' : 'none';
  }

  function prev() {
    idx = (idx - 1 + items.length) % items.length;
    render();
  }

  function next() {
    idx = (idx + 1) % items.length;
    render();
  }
  
  
  // é»ç¸®åœ–é–‹å•Ÿï¼ˆäº‹ä»¶ä»£ç†ï¼šä¹‹å¾ŒåŠ æ›´å¤šåœ–ä¹Ÿä¸ç”¨å†ç¶ï¼‰
  root.addEventListener('click', (e) => {
    const btn = e.target.closest('.shotBtn[data-full]');
    if (!btn) return;

    collectItems();
    const start = items.findIndex(it => it.full === btn.dataset.full);
    openAt(start >= 0 ? start : 0);
  });

  prevBtn.addEventListener('click', prev);
  nextBtn.addEventListener('click', next);

  // é»é»‘åº•é—œé–‰
  box.addEventListener('click', (e) => {
    if (e.target === box) closeBox();
  });

  // éµç›¤æ§åˆ¶
  window.addEventListener('keydown', (e) => {
    if (!box.classList.contains('show')) return;
    if (e.key === 'Escape') closeBox();
    if (e.key === 'ArrowLeft') prev();
    if (e.key === 'ArrowRight') next();
  });
})();
</script>

<script>
const imgs = [
  'image/lightbox1.jpg',
  'image/lightbox2.jpg'
];

const viewer = document.getElementById('lightboxView');
const viewerImg = viewer.querySelector('.lb-img');
let current = 0;

// open
document.querySelectorAll('#lightbox img').forEach(img => {
  img.addEventListener('click', () => {
    current = Number(img.dataset.index);
    open();
  });
});

function open(){
  viewerImg.src = imgs[current];
  viewer.classList.add('show');
}

// nav
viewer.querySelector('.prev').onclick = () => {
  current = (current - 1 + imgs.length) % imgs.length;
  open();
};

viewer.querySelector('.next').onclick = () => {
  current = (current + 1) % imgs.length;
  open();
};

// close
viewer.addEventListener('click', e => {
  if(e.target === viewer) viewer.classList.remove('show');
});

// keyboard
window.addEventListener('keydown', e => {
  if(!viewer.classList.contains('show')) return;
  if(e.key === 'ArrowLeft') viewer.querySelector('.prev').click();
  if(e.key === 'ArrowRight') viewer.querySelector('.next').click();
  if(e.key === 'Escape') viewer.classList.remove('show');
});
</script>

  <script>
    // --- Invitation gate ---
    const gate = document.getElementById('inviteGate');
    const openInvite = document.getElementById('openInvite');

    function lockScroll(lock){
      document.documentElement.style.overflow = lock ? 'hidden' : '';
      document.body.style.overflow = lock ? 'hidden' : '';
    }

    lockScroll(true);
    requestAnimationFrame(()=> gate && gate.classList.add('present'));

    function openGate(){
      document.body.classList.add('gate-opened');
      lockScroll(false);
      setTimeout(()=>{ if(gate) gate.style.display = 'none'; }, 1100);
    }

    openInvite?.addEventListener('click', openGate);
    gate?.addEventListener('click', (e)=>{ if(e.target === gate) openGate(); });

    // --- Fixed header offset ---
    const headerEl = document.querySelector('.site-header');
    function updateHeaderOffset(){
      if(!headerEl) return;
      const h = Math.ceil(headerEl.getBoundingClientRect().height);
      document.documentElement.style.setProperty('--header-h', h + 'px');
    }
    updateHeaderOffset();
    window.addEventListener('resize', ()=>requestAnimationFrame(updateHeaderOffset), {passive:true});

    // --- Mobile nav ---
    const navToggle = document.getElementById('navToggle');
    const nav = document.getElementById('nav');
    function setNav(open){
      nav.classList.toggle('open', open);
      navToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
    }
    navToggle?.addEventListener('click', ()=> setNav(!nav.classList.contains('open')));
    nav?.querySelectorAll('a').forEach(a=> a.addEventListener('click', ()=> setNav(false)));

    // --- Parallax ---
    function updateParallax(){
      const y = window.scrollY || 0;
      document.documentElement.style.setProperty('--parY', y + 'px');
    }
    updateParallax();
    window.addEventListener('scroll', ()=>requestAnimationFrame(updateParallax), {passive:true});

    // --- Countdown (Event: 4/18) ---
    const cdNumEl = document.getElementById('cdNum');
    const EVENT_MONTH = 4;
    const EVENT_DAY = 18;

    function getNextEventDate(){
      const now = new Date();
      let y = now.getFullYear();
      let target = new Date(y, EVENT_MONTH-1, EVENT_DAY, 0,0,0,0);
      if(target.getTime() < now.getTime() - 1000*60*60*24) target = new Date(y+1, EVENT_MONTH-1, EVENT_DAY, 0,0,0,0);
      return target;
    }

    function updateCountdown(){
      const now = new Date();
      const target = getNextEventDate();
      const diff = target.getTime() - now.getTime();
      const days = Math.max(0, Math.ceil(diff / (1000*60*60*24)));
      if(cdNumEl) cdNumEl.textContent = String(days);
    }

    updateCountdown();
    setInterval(updateCountdown, 1000*60*60);

    // --- Portfolio Lightbox ---
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightboxImg');
    const lightboxNote = document.getElementById('lightboxNote');

    function openLightbox(src, note){
      lightboxImg.src = src;
      lightboxImg.alt = note || 'preview';
      lightboxNote.textContent = note || '';
      lightbox.classList.add('open');
      lightbox.setAttribute('aria-hidden', 'false');
      document.addEventListener('keydown', onEsc);
    }

    function closeLightbox(){
      lightbox.classList.remove('open');
      lightbox.setAttribute('aria-hidden', 'true');
      lightboxImg.src = '';
      document.removeEventListener('keydown', onEsc);
    }

    function onEsc(e){
      if(e.key === 'Escape') closeLightbox();
    }

    document.querySelectorAll('.shotBtn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const src = btn.getAttribute('data-full') || btn.querySelector('img')?.src;
        const note = btn.getAttribute('data-note') || '';
        openLightbox(src, note);
      });
    });

    lightbox?.addEventListener('click', (e)=>{
      if(e.target && e.target.getAttribute && e.target.getAttribute('data-close') === '1') closeLightbox();
    });
    document.querySelectorAll('[data-close="1"]').forEach(el=> el.addEventListener('click', closeLightbox));
  </script>
  <script>
    const brandLink = document.querySelector('.brand');

    brandLink?.addEventListener('click', (e) => {
      e.preventDefault();

      window.scrollTo({
        top: 0,
        behavior: 'smooth'
      });
    });
  </script>
  <script>
(() => {
  const album = document.getElementById('album');
  if(!album) return;

  const track = album.querySelector('.album-track');
  const slides = Array.from(album.querySelectorAll('.album-slide'));
  const dotsWrap = album.querySelector('.album-dots');
  const prevBtn = album.querySelector('.album-nav.prev');
  const nextBtn = album.querySelector('.album-nav.next');

  let idx = 0;
  let timer = null;
  const AUTOPLAY_MS = 3200;

  // build dots
  dotsWrap.innerHTML = '';
  slides.forEach((_, i) => {
    const b = document.createElement('button');
    b.type = 'button';
    b.className = 'album-dot' + (i === 0 ? ' is-active' : '');
    b.setAttribute('aria-label', `ç¬¬ ${i+1} å¼µ`);
    b.addEventListener('click', () => go(i, true));
    dotsWrap.appendChild(b);
  });

  const dots = Array.from(dotsWrap.querySelectorAll('.album-dot'));

  function render(){
    track.style.transform = `translateX(${-idx * 100}%)`;
    dots.forEach((d, i) => d.classList.toggle('is-active', i === idx));
  }

  function go(i, userAction=false){
    idx = (i + slides.length) % slides.length;
    render();
    if(userAction) restart();
  }

  function next(userAction=false){ go(idx + 1, userAction); }
  function prev(userAction=false){ go(idx - 1, userAction); }

  function start(){
    stop();
    timer = setInterval(() => next(false), AUTOPLAY_MS);
  }
  function stop(){
    if(timer) { clearInterval(timer); timer = null; }
  }
  function restart(){
    stop();
    start();
  }

  // controls
  prevBtn?.addEventListener('click', () => prev(true));
  nextBtn?.addEventListener('click', () => next(true));

  // pause on hover (desktop)
  album.addEventListener('mouseenter', stop);
  album.addEventListener('mouseleave', start);

  // swipe (mobile)
  let sx = 0, dx = 0, touching = false;
  const viewport = album.querySelector('.album-viewport');
  viewport.addEventListener('touchstart', (e) => {
    touching = true;
    sx = e.touches[0].clientX;
    dx = 0;
    stop();
  }, {passive:true});

  viewport.addEventListener('touchmove', (e) => {
    if(!touching) return;
    dx = e.touches[0].clientX - sx;
  }, {passive:true});

  viewport.addEventListener('touchend', () => {
    touching = false;
    if(Math.abs(dx) > 40){
      dx < 0 ? next(true) : prev(true);
    } else {
      restart();
    }
  });

  // keyboard
  window.addEventListener('keydown', (e) => {
    // é¿å…ä½ åœ¨ lightbox æ‰“é–‹æ™‚å¹²æ“¾ï¼ˆè‹¥ä½ æœ‰ç”¨ show classï¼‰
    if(document.getElementById('portfolioBox')?.classList.contains('show')) return;
    if(e.key === 'ArrowLeft') prev(true);
    if(e.key === 'ArrowRight') next(true);
  });

  render();
  start();
})();
</script>
<script>
(() => {
  const TOTAL = 7;        // g01 ~ g20
  const SHOW = 5;          // â­ æ”¹æˆåªé¡¯ç¤º 4 å¼µ
  const FOLDER = 'image/gift/';
  const EXT = '.jpg';

  const root = document.getElementById('joinGiftsCollage');
  if (!root) return;

  const allSlots = Array.from(root.querySelectorAll('.gift'));
  const btnSlots = Array.from(root.querySelectorAll('.giftBtn'));

  // åªé¡¯ç¤ºå‰ 4 æ ¼ï¼Œå…¶é¤˜éš±è—ï¼ˆä¸åˆª DOMï¼Œç‰ˆé¢ç©©ï¼‰
  allSlots.forEach((slot, i) => {
    slot.style.display = i < SHOW ? '' : 'none';
  });

  const slots = btnSlots.slice(0, SHOW);
  if (slots.length < SHOW) return;

  // æ´—ç‰Œ 1~20
  const nums = Array.from({ length: TOTAL }, (_, i) => i + 1);
  for (let i = nums.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [nums[i], nums[j]] = [nums[j], nums[i]];
  }
  const pick = nums.slice(0, SHOW);

  const noteMap = {
  '01': 'åƒåŠ ç¦®ï½œç­†è¨˜æœ¬',
  '02': 'åƒåŠ ç¦®ï½œç¥¨å¤¾',
  '03': 'åƒåŠ ç¦®ï½œé›·å°„ç¥¨',
  '04': 'åƒåŠ ç¦®ï½œå¡å†Š',
  '05': 'åƒåŠ ç¦®ï½œå››å­£ç¥¨æ ¹',
  '06': 'åƒåŠ ç¦®ï½œæ˜¥å¤ç¥¨æ ¹',
  '07': 'åƒåŠ ç¦®ï½œè½‰å°è²¼(ä¸å«è Ÿç‡­)'
};

pick.forEach((n, i) => {
  const code = String(n).padStart(2, '0');
  const src = `${FOLDER}g${code}${EXT}`;

  const btn = slots[i];
  const img = btn.querySelector('img');

  btn.dataset.full = src;

  // â­ ç”¨åœ–ç‰‡ç·¨è™Ÿæ‰¾å°æ‡‰æ–‡å­—
  btn.dataset.note = noteMap[code] || `åƒåŠ ç¦® g${code}`;

  if (img) {
    img.src = src;
    img.alt = btn.dataset.note;
    img.loading = 'lazy';
    img.decoding = 'async';
  }
});

})();
</script>


<script>
(() => {
  const root = document.getElementById('joinGiftsCollage');
  const box = document.getElementById('joinGiftBox');
  const imgEl = document.getElementById('gboxImg');
  const noteEl = document.getElementById('gboxNote');
  const prevBtn = box?.querySelector('.prev');
  const nextBtn = box?.querySelector('.next');

  if (!root || !box || !imgEl || !noteEl) return;

  let items = [];
  let idx = 0;

  function collect(){
    items = Array.from(root.querySelectorAll('.giftBtn[data-full]'))
      .map(el => ({ full: el.dataset.full, note: el.dataset.note || '' }));
  }

  function render(){
    const it = items[idx];
    imgEl.src = it.full;
    noteEl.textContent = it.note;

    const multi = items.length > 1;
    prevBtn.style.display = multi ? '' : 'none';
    nextBtn.style.display = multi ? '' : 'none';
  }

  function openAt(i){
    collect();
    if (!items.length) return;

    idx = Math.max(0, Math.min(i, items.length - 1));
    render();
    box.classList.add('show');
    box.setAttribute('aria-hidden', 'false');
  }

  function close(){
    box.classList.remove('show');
    box.setAttribute('aria-hidden', 'true');
  }

  function prev(){
    idx = (idx - 1 + items.length) % items.length;
    render();
  }

  function next(){
    idx = (idx + 1) % items.length;
    render();
  }

  // âœ… åªç›£è½åƒåŠ ç¦®å€å¡Šå…§çš„ giftBtnï¼ˆå®Œå…¨ä¸å½±éŸ¿åŸæœ¬ï¼‰
  root.addEventListener('click', (e) => {
    const btn = e.target.closest('.giftBtn[data-full]');
    if (!btn) return;

    collect();
    const i = items.findIndex(it => it.full === btn.dataset.full);
    openAt(i >= 0 ? i : 0);
  });

  prevBtn.addEventListener('click', prev);
  nextBtn.addEventListener('click', next);

  // é»èƒŒæ™¯é—œé–‰
  box.addEventListener('click', (e) => {
    if (e.target === box) close();
  });

  // éµç›¤æ”¯æ´ï¼ˆåªåœ¨ gbox é–‹å•Ÿæ™‚ç”Ÿæ•ˆï¼‰
  window.addEventListener('keydown', (e) => {
    if (!box.classList.contains('show')) return;
    if (e.key === 'Escape') close();
    if (e.key === 'ArrowLeft') prev();
    if (e.key === 'ArrowRight') next();
  });
})();
</script>
<script>
(() => {
  const box = document.getElementById('giftItemBox');
  const img = document.getElementById('giftItemImg');
  const title = document.getElementById('giftItemTitle');
  if (!box || !img || !title) return;

  function openItem(src, label){
    img.src = src;
    img.alt = label || '';
    title.textContent = label || '';
    box.classList.add('show');
    box.setAttribute('aria-hidden', 'false');
  }

  function closeItem(){
    box.classList.remove('show');
    box.setAttribute('aria-hidden', 'true');
    img.src = '';
  }

  // åªç›£è½ gift-picks çš„æŒ‰éˆ•ï¼Œå®Œå…¨ä¸å½±éŸ¿ä½ åŸæœ¬çš„ lightbox
  document.addEventListener('click', (e) => {
    const btn = e.target.closest('.gift-pill[data-img]');
    if (!btn) return;
    e.preventDefault();
    openItem(btn.dataset.img, btn.textContent.trim());
  });

  // é—œé–‰æŒ‰éˆ•
  box.querySelector('.itembox-close')?.addEventListener('click', closeItem);

  // é»èƒŒæ™¯é—œé–‰
  box.addEventListener('click', (e) => {
    if (e.target === box) closeItem();
  });

  // ESC é—œé–‰
  window.addEventListener('keydown', (e) => {
    if (!box.classList.contains('show')) return;
    if (e.key === 'Escape') closeItem();
  });
})();
</script>

</body>
</html>
